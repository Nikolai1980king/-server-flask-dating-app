<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Тест карты</title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=9a3beffb-a8a0-4d55-850f-d258dd28c104&lang=ru_RU" type="text/javascript"></script>
    <style>
        #map {
            width: 100%;
            height: 400px;
            border: 2px solid #ccc;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Тест загрузки карты</h1>
        <div class="status" id="status">Статус: Загрузка...</div>
        <div id="map"></div>
        <div class="status" id="info">Информация о карте</div>
    </div>

    <script>
        let myMap;
        
        function updateStatus(message) {
            document.getElementById('status').textContent = 'Статус: ' + message;
        }
        
        function updateInfo(message) {
            document.getElementById('info').textContent = message;
        }
        
        // Проверяем загрузку API
        if (typeof ymaps === 'undefined') {
            updateStatus('Ошибка: API Яндекс.Карт не загружен');
            updateInfo('Проверьте подключение к интернету и API ключ');
        } else {
            updateStatus('API Яндекс.Карт загружен');
            
            // Инициализируем карту
            ymaps.ready(function () {
                try {
                    updateStatus('Инициализация карты...');
                    
                    myMap = new ymaps.Map('map', {
                        center: [55.76, 37.64], // Москва
                        zoom: 10,
                        controls: ['zoomControl', 'fullscreenControl']
                    });
                    
                    updateStatus('Карта инициализирована');
                    updateInfo('Карта загружена успешно! Координаты: 55.76, 37.64, Масштаб: 10');
                    
                    // Добавляем обработчик кликов
                    myMap.events.add('click', function (e) {
                        var coords = e.get('coords');
                        updateInfo('Клик по координатам: ' + coords[0].toFixed(4) + ', ' + coords[1].toFixed(4));
                    });
                    
                } catch (error) {
                    updateStatus('Ошибка инициализации карты: ' + error.message);
                    updateInfo('Проверьте консоль браузера для деталей');
                    console.error('Ошибка инициализации карты:', error);
                }
            });
        }
    </script>
</body>
</html> 