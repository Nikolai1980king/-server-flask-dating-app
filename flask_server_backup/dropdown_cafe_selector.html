<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–í—ã–±–æ—Ä –∫–∞—Ñ–µ - –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }
        .form-group {
            margin: 20px 0;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
            font-size: 16px;
        }
        select, input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        select:focus, input[type="text"]:focus {
            border-color: #2196f3;
            outline: none;
        }
        .btn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        .btn:hover {
            background: #1976d2;
        }
        .btn-success {
            background: #4caf50;
        }
        .btn-success:hover {
            background: #388e3c;
        }
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-weight: bold;
            text-align: center;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.info { background: #d1ecf1; color: #0c5460; }
        .coordinates {
            display: flex;
            gap: 10px;
        }
        .coordinates input {
            flex: 1;
        }
        .cafe-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #2196f3;
        }
        .cafe-name {
            font-weight: bold;
            color: #2196f3;
            margin-bottom: 5px;
        }
        .cafe-coords {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè™ –í—ã–±–æ—Ä –∫–∞—Ñ–µ</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞</p>
        </div>
        
        <div class="form-group">
            <label for="cafe-select">üè™ –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ:</label>
            <select id="cafe-select" onchange="selectCafe()">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ --</option>
                <option value="cafe1">–ö–∞—Ñ–µ "–£—é—Ç–Ω–æ–µ"</option>
                <option value="cafe2">–†–µ—Å—Ç–æ—Ä–∞–Ω "–í–∫—É—Å–Ω–æ"</option>
                <option value="cafe3">–ö–æ—Ñ–µ–π–Ω—è "–ê—Ä–æ–º–∞—Ç"</option>
                <option value="cafe4">–ü–∏—Ü—Ü–µ—Ä–∏—è "–ò—Ç–∞–ª–∏—è"</option>
                <option value="cafe5">–ë–∞—Ä "–í–µ—á–µ—Ä–Ω–∏–π"</option>
                <option value="cafe6">–°—Ç–æ–ª–æ–≤–∞—è "–î–æ–º–∞—à–Ω—è—è"</option>
                <option value="cafe7">–ö–∞—Ñ–µ "–°–æ–ª–Ω—ã—à–∫–æ"</option>
                <option value="cafe8">–†–µ—Å—Ç–æ—Ä–∞–Ω "–≠–ª–∏—Ç–Ω—ã–π"</option>
                <option value="cafe9">–ö–æ—Ñ–µ–π–Ω—è "–£—Ç—Ä–æ"</option>
                <option value="cafe10">–ü–∏—Ü—Ü–µ—Ä–∏—è "–†–æ–º–∞"</option>
            </select>
        </div>
        
        <div id="cafe-info" class="cafe-info" style="display: none;">
            <div class="cafe-name" id="selected-cafe-name"></div>
            <div class="cafe-coords" id="selected-cafe-coords"></div>
        </div>
        
        <div class="form-group">
            <label for="venue-input">üè™ –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è:</label>
            <input type="text" id="venue-input" placeholder="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ñ–µ" readonly>
        </div>
        
        <div class="form-group">
            <label>üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</label>
            <div class="coordinates">
                <input type="text" id="latitude-input" placeholder="–®–∏—Ä–æ—Ç–∞" readonly>
                <input type="text" id="longitude-input" placeholder="–î–æ–ª–≥–æ—Ç–∞" readonly>
            </div>
        </div>
        
        <div class="form-group" style="text-align: center;">
            <button class="btn" onclick="getLocation()">üìç –ü–æ–ª—É—á–∏—Ç—å –º–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
            <button class="btn btn-success" onclick="confirmSelection()">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä</button>
            <button class="btn" onclick="clearSelection()">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        
        <div id="status" class="status info">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ</div>
    </div>

    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ñ–µ
        var cafeDatabase = {
            'cafe1': { name: '–ö–∞—Ñ–µ "–£—é—Ç–Ω–æ–µ"', lat: 55.7558, lng: 37.6176 },
            'cafe2': { name: '–†–µ—Å—Ç–æ—Ä–∞–Ω "–í–∫—É—Å–Ω–æ"', lat: 55.7559, lng: 37.6177 },
            'cafe3': { name: '–ö–æ—Ñ–µ–π–Ω—è "–ê—Ä–æ–º–∞—Ç"', lat: 55.7557, lng: 37.6175 },
            'cafe4': { name: '–ü–∏—Ü—Ü–µ—Ä–∏—è "–ò—Ç–∞–ª–∏—è"', lat: 55.7556, lng: 37.6178 },
            'cafe5': { name: '–ë–∞—Ä "–í–µ—á–µ—Ä–Ω–∏–π"', lat: 55.7555, lng: 37.6179 },
            'cafe6': { name: '–°—Ç–æ–ª–æ–≤–∞—è "–î–æ–º–∞—à–Ω—è—è"', lat: 55.7554, lng: 37.6180 },
            'cafe7': { name: '–ö–∞—Ñ–µ "–°–æ–ª–Ω—ã—à–∫–æ"', lat: 55.7553, lng: 37.6181 },
            'cafe8': { name: '–†–µ—Å—Ç–æ—Ä–∞–Ω "–≠–ª–∏—Ç–Ω—ã–π"', lat: 55.7552, lng: 37.6182 },
            'cafe9': { name: '–ö–æ—Ñ–µ–π–Ω—è "–£—Ç—Ä–æ"', lat: 55.7551, lng: 37.6183 },
            'cafe10': { name: '–ü–∏—Ü—Ü–µ—Ä–∏—è "–†–æ–º–∞"', lat: 55.7550, lng: 37.6184 }
        };
        
        var selectedCafe = null;
        var currentLocation = null;
        
        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ñ–µ
        function selectCafe() {
            var select = document.getElementById('cafe-select');
            var cafeId = select.value;
            
            if (cafeId && cafeDatabase[cafeId]) {
                selectedCafe = cafeDatabase[cafeId];
                
                console.log('üè™ –í—ã–±—Ä–∞–Ω–æ –∫–∞—Ñ–µ:', selectedCafe.name, '(', selectedCafe.lat, selectedCafe.lng, ')');
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∑–∞–≤–µ–¥–µ–Ω–∏—è
                var venueInput = document.getElementById('venue-input');
                if (venueInput) {
                    venueInput.value = selectedCafe.name;
                    console.log('‚úÖ –ü–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è" –∑–∞–ø–æ–ª–Ω–µ–Ω–æ:', selectedCafe.name);
                    
                    // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
                    venueInput.style.border = '2px solid #4caf50';
                    venueInput.style.backgroundColor = '#d4edda';
                    setTimeout(() => {
                        venueInput.style.border = '2px solid #ddd';
                        venueInput.style.backgroundColor = 'white';
                    }, 2000);
                } else {
                    console.log('‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ venue-input –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!');
                }
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
                var latInput = document.getElementById('latitude-input');
                var lngInput = document.getElementById('longitude-input');
                
                if (latInput && lngInput) {
                    latInput.value = selectedCafe.lat;
                    lngInput.value = selectedCafe.lng;
                    console.log('‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:', selectedCafe.lat, selectedCafe.lng);
                } else {
                    console.log('‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!');
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ñ–µ
                showCafeInfo(selectedCafe);
                
                updateStatus('–í—ã–±—Ä–∞–Ω–æ –∫–∞—Ñ–µ: ' + selectedCafe.name, 'success');
                
            } else {
                selectedCafe = null;
                clearFields();
                hideCafeInfo();
                updateStatus('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ –∏–∑ —Å–ø–∏—Å–∫–∞', 'info');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ñ–µ
        function showCafeInfo(cafe) {
            var cafeInfo = document.getElementById('cafe-info');
            var cafeName = document.getElementById('selected-cafe-name');
            var cafeCoords = document.getElementById('selected-cafe-coords');
            
            cafeName.textContent = cafe.name;
            cafeCoords.textContent = '–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ' + cafe.lat + ', ' + cafe.lng;
            cafeInfo.style.display = 'block';
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∫—Ä—ã—Ç–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ñ–µ
        function hideCafeInfo() {
            var cafeInfo = document.getElementById('cafe-info');
            cafeInfo.style.display = 'none';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –ø–æ–ª–µ–π
        function clearFields() {
            var venueInput = document.getElementById('venue-input');
            var latInput = document.getElementById('latitude-input');
            var lngInput = document.getElementById('longitude-input');
            
            if (venueInput) venueInput.value = '';
            if (latInput) latInput.value = '';
            if (lngInput) lngInput.value = '';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
        function getLocation() {
            console.log('üìç –ó–∞–ø—Ä–æ—Å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...');
            updateStatus('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...', 'info');
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        currentLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        
                        console.log('‚úÖ –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ:', currentLocation.lat, currentLocation.lng);
                        updateStatus('–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ! –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ' + currentLocation.lat + ', ' + currentLocation.lng, 'success');
                        
                        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫–∞—Ñ–µ
                        findNearestCafe();
                        
                    },
                    function(error) {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è:', error.message);
                        updateStatus('–û—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è: ' + error.message, 'error');
                    }
                );
            } else {
                console.log('‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                updateStatus('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º', 'error');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫–∞—Ñ–µ
        function findNearestCafe() {
            if (!currentLocation) {
                console.log('‚ùå –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ');
                return;
            }
            
            console.log('üîç –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫–∞—Ñ–µ...');
            
            var nearestCafe = null;
            var minDistance = Infinity;
            
            // –ü—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º—É–ª–æ–π –≥–∞–≤–µ—Ä—Å–∏–Ω—É—Å–∞)
            for (var cafeId in cafeDatabase) {
                var cafe = cafeDatabase[cafeId];
                var distance = Math.sqrt(
                    Math.pow(cafe.lat - currentLocation.lat, 2) + 
                    Math.pow(cafe.lng - currentLocation.lng, 2)
                );
                
                if (distance < minDistance) {
                    minDistance = distance;
                    nearestCafe = cafeId;
                }
            }
            
            if (nearestCafe) {
                console.log('‚úÖ –ë–ª–∏–∂–∞–π—à–µ–µ –∫–∞—Ñ–µ –Ω–∞–π–¥–µ–Ω–æ:', cafeDatabase[nearestCafe].name);
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –±–ª–∏–∂–∞–π—à–µ–µ –∫–∞—Ñ–µ
                document.getElementById('cafe-select').value = nearestCafe;
                selectCafe();
                
                updateStatus('–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞–Ω–æ –±–ª–∏–∂–∞–π—à–µ–µ –∫–∞—Ñ–µ: ' + cafeDatabase[nearestCafe].name, 'success');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞
        function confirmSelection() {
            if (selectedCafe) {
                var message = '‚úÖ –í—ã–±–æ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!\n\n';
                message += 'üè™ –ö–∞—Ñ–µ: ' + selectedCafe.name + '\n';
                message += 'üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ' + selectedCafe.lat + ', ' + selectedCafe.lng;
                
                if (currentLocation) {
                    message += '\nüìç –í–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: ' + currentLocation.lat + ', ' + currentLocation.lng;
                }
                
                alert(message);
                console.log('‚úÖ –í—ã–±–æ—Ä –∫–∞—Ñ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω:', selectedCafe);
                updateStatus('–í—ã–±–æ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! –ö–∞—Ñ–µ: ' + selectedCafe.name, 'success');
            } else {
                alert('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ –∏–∑ —Å–ø–∏—Å–∫–∞');
                console.log('‚ùå –ö–∞—Ñ–µ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ');
                updateStatus('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ', 'error');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –≤—ã–±–æ—Ä–∞
        function clearSelection() {
            document.getElementById('cafe-select').value = '';
            selectedCafe = null;
            currentLocation = null;
            clearFields();
            hideCafeInfo();
            updateStatus('–í—ã–±–æ—Ä –æ—á–∏—â–µ–Ω. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ñ–µ –∏–∑ —Å–ø–∏—Å–∫–∞', 'info');
            console.log('üßπ –í—ã–±–æ—Ä –æ—á–∏—â–µ–Ω');
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        function updateStatus(message, type) {
            var statusDiv = document.getElementById('status');
            statusDiv.textContent = message;
            statusDiv.className = 'status ' + type;
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            console.log('üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            var venueInput = document.getElementById('venue-input');
            var latInput = document.getElementById('latitude-input');
            var lngInput = document.getElementById('longitude-input');
            var cafeSelect = document.getElementById('cafe-select');
            
            if (venueInput) {
                console.log('‚úÖ –ü–æ–ª–µ venue-input –Ω–∞–π–¥–µ–Ω–æ');
            } else {
                console.log('‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ venue-input –ù–ï –Ω–∞–π–¥–µ–Ω–æ!');
            }
            
            if (latInput) {
                console.log('‚úÖ –ü–æ–ª–µ latitude-input –Ω–∞–π–¥–µ–Ω–æ');
            } else {
                console.log('‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ latitude-input –ù–ï –Ω–∞–π–¥–µ–Ω–æ!');
            }
            
            if (lngInput) {
                console.log('‚úÖ –ü–æ–ª–µ longitude-input –Ω–∞–π–¥–µ–Ω–æ');
            } else {
                console.log('‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ longitude-input –ù–ï –Ω–∞–π–¥–µ–Ω–æ!');
            }
            
            if (cafeSelect) {
                console.log('‚úÖ –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ñ–µ –Ω–∞–π–¥–µ–Ω');
            } else {
                console.log('‚ùå –û–®–ò–ë–ö–ê: –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ñ–µ –ù–ï –Ω–∞–π–¥–µ–Ω!');
            }
        };
    </script>
</body>
</html> 