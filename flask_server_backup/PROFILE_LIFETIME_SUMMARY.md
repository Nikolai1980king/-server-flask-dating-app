# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∞–Ω–∫–µ—Ç - –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `created_at` –≤ –º–æ–¥–µ–ª—å Profile**
```python
created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

### 2. **–°–æ–∑–¥–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏**
```python
# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∞–Ω–∫–µ—Ç—ã –≤ —á–∞—Å–∞—Ö - –ù–ê–°–¢–†–ê–ò–í–ê–ï–ú–ê–Ø –ü–ï–†–ï–ú–ï–ù–ù–ê–Ø
PROFILE_LIFETIME_HOURS = 24  # –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –∞–Ω–∫–µ—Ç
```

### 3. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏**
```python
def cleanup_expired_profiles():
    """
    –£–¥–∞–ª—è–µ—Ç –∞–Ω–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—à–µ PROFILE_LIFETIME_HOURS —á–∞—Å–æ–≤
    """
```

**–§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª—è–µ—Ç:**
- ‚úÖ –°–∞–º—É –∞–Ω–∫–µ—Ç—É –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ª–∞–π–∫–∏
- ‚úÖ –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–∞—Ö
- ‚úÖ –§–∞–π–ª—ã —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –¥–∏—Å–∫–∞

### 4. **–î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞**
```python
# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—á–∏—Å—Ç–∫—É –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∞–Ω–∫–µ—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
print("üßπ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∞–Ω–∫–µ—Ç...")
deleted_count = cleanup_expired_profiles()
print(f"‚è∞ –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∞–Ω–∫–µ—Ç—ã: {PROFILE_LIFETIME_HOURS} —á–∞—Å–æ–≤")
```

### 5. **–°–æ–∑–¥–∞–Ω API endpoint –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ—á–∏—Å—Ç–∫–∏**
```bash
curl -X POST http://localhost:5000/api/cleanup-profiles
```

### 6. **–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç**
```bash
python test_profile_lifetime.py
```

## ‚öôÔ∏è –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏

### **–û—Å–Ω–æ–≤–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `app.py` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 32:**

```python
PROFILE_LIFETIME_HOURS = 24  # –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
```

### **–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
- `PROFILE_LIFETIME_HOURS = 1` - 1 —á–∞—Å (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- `PROFILE_LIFETIME_HOURS = 6` - 6 —á–∞—Å–æ–≤
- `PROFILE_LIFETIME_HOURS = 12` - 12 —á–∞—Å–æ–≤
- `PROFILE_LIFETIME_HOURS = 24` - 24 —á–∞—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `PROFILE_LIFETIME_HOURS = 48` - 2 –¥–Ω—è
- `PROFILE_LIFETIME_HOURS = 168` - 1 –Ω–µ–¥–µ–ª—è

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–Ω–∫–µ—Ç—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `created_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è`
2. **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞** —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –∞–Ω–∫–µ—Ç—ã
3. **–ê–Ω–∫–µ—Ç—ã —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è
4. **–í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (–ª–∞–π–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è, —Ñ–æ—Ç–æ) —É–¥–∞–ª—è—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∞–Ω–∫–µ—Ç–æ–π

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–Ω–∫–µ—Ç:**
```bash
curl http://localhost:5000/api/profiles
```

### **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ—á–∏—Å—Ç–∫–∏:**
```bash
curl -X POST http://localhost:5000/api/cleanup-profiles
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:**
```bash
python test_profile_lifetime.py
```

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`PROFILE_LIFETIME_SETUP.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- **`test_profile_lifetime.py`** - –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **`PROFILE_LIFETIME_SUMMARY.md`** - –≠—Ç–æ —Ä–µ–∑—é–º–µ

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∞–Ω–∫–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!**

- ‚úÖ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ API endpoint —Å–æ–∑–¥–∞–Ω
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

**–¢–µ–ø–µ—Ä—å –∞–Ω–∫–µ—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è!** üéâ 